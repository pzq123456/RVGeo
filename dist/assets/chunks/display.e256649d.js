var Z=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var q=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)};var C=(n,t,e)=>(Z(n,t,"access private method"),e);const I=[1,0];function A(n,t){return Math.pow(n-t,2)}function k(n,t){return Math.abs(n-t)}function K(n,t){return Math.sqrt(n*n+t*t)}function ct(n){return Math.random()*n}function J(n,t){let e=0;for(let i=0;i<n.length;i++)e+=n[i]*t[i];return e}function Q(n,t){if($(n,t))return-1;let e=X(n,t),r=J(e,I)/(U(n,t)*1),s=Math.acos(r)*180/Math.PI;return e[1]<0&&(s=-s),(s+360)%360}function X(n,t){let e=[];for(let i=0;i<n.length;i++)e.push(t[i]-n[i]);return e}function U(n,t){let e=X(n,t);return K(e[0],e[1])}function $(n,t){if(n.length!=t.length)return!1;{let e=!0;for(let i=0;i<n.length;i++)if(n[i]!==t[i]){e=!1;break}return e}}function L(n,t){let e=n.length,i=n[0].length,r=0;for(let s=0;s<e;s++)for(let l=0;l<i;l++)r=r+n[s][l]*t[s][l];return r}function tt(n){return L([[0,1,0],[1,-4,1],[0,1,0]],n)}function et(n){let t=[[0,0,0],[.16666666666666666,0,-.16666666666666666],[0,0,0]],e=[[0,-1/6,0],[0,0,0],[0,1/6,0]],i=L(t,n),r=L(e,n);return Math.sqrt(r*r+i*i)}function it(n){let t=[[0,0,0],[.16666666666666666,0,-.16666666666666666],[0,0,0]],e=[[0,-1/6,0],[0,0,0],[0,1/6,0]],i=-L(t,n),r=-L(e,n),s=57.29578*Math.atan2(r,-i),l=0;return s<0?l=90-s:s>90?l=360-s+90:l=90-s,l}function rt(n,t){let e=t.y-n.y,i=n.x-t.x,r=t.x*n.y-n.x*t.y;return[e,i,r]}function st(n,t,e){let i=rt(n,t),r=e.x,s=e.y,l=i[0],o=i[1],a=i[2],c=Math.abs(l*r+o*s+a),d=Math.sqrt(l*l+o*o);return c/d}function v(n,t,e){let i=(t.x-n.x)*(e.y-t.y)-(t.y-n.y)*(e.x-t.x);return i>0?1:i<0?2:i===0?3:-1}function lt(n){let t=n.slice(),e=[];for(;t.length!=0;){let i=t.pop();if(t.findIndex(r=>r.x==i.x&&r.y==i.y)===-1)e.push(i);else continue}return e}class T{constructor(t,e){this.x=t,this.y=e}getX(){return this.x}getY(){return this.y}getXY(){return[this.x,this.y]}getEuclideanDistance_(t){return Math.sqrt(A(this.x,t.x)+A(this.y,t.y))}getManhattanDistance_(t){return k(this.x,t.x)+k(this.y,t.y)}getChebyshevDistance_(t){return Math.max(k(this.x,t.x),k(this.y,t.y))}getMinkowskiDistance_(t,e){return Math.pow(Math.pow(k(this.x,t.x),e)+Math.pow(k(this.y,t.y),e),Math.pow(e,-1))}getAngle_(t){let e=this.getXY(),i=t.getXY();return Q(e,i)}getDistance2Line_(t,e){return st(t,e,this)}IsSamePoint_(t){return t.x===this.x&&t.y===this.y}getFootPoint_(t){let e=t.getMathFrom(),i=e[0],r=e[1],s=e[2],l=this.x,o=this.y,a=(r*r*l-i*r*o-i*s)/(i*i+r*r),c=(-i*r*l+i*i*o-r*s)/(i*i+r*r);return new T(a,c)}static fromString(t){let e=t.split(",");return new T(e[0],e[1])}}class ht{constructor(t){this.pointlist=t,this.sp=t[0],this.ep=t[t.length-1],this.getExtent()}extendLine(t){this.pointlist.push(t),this.ep=t,this.getExtent()}getLine(){return this.pointlist}getStartPoint(){return this.sp}getEndPoint(){return this.ep}getSubSetByDP(t){return at(this.pointlist,t)}getTwoSubLineFromInx(t){return W(this.pointlist,t)}getExtent(){this.extent=E(this.pointlist)}}class O{constructor(t){this.pointset=t,this.dedup(),this.getExtent()}getPointSet(){return this.pointset.slice()}getConvexHull(){return nt(this.pointset)}dedup(){this.pointset=lt(this.pointset)}getExtent(){return this.extent=E(this.pointset),this.extent}static fromaArray_2D(t,e,i){let r=[];for(let l=0;l<t.length;l++){let o=new T(t[l][e],t[l][i]);r.push(o)}return new O(r)}}function E(n){let t=n.slice();t.sort((i,r)=>i.x-r.x);let e=n.slice();return e.sort((i,r)=>i.y-r.y),[t[0].x,e[0].y,t[t.length-1].x,e[e.length-1].y]}function nt(n){let t=n.slice();t.sort((s,l)=>s.x-l.x);let e=[];e.push(t[0]),e.push(t[1]);for(let s=2;s<t.length;s++)for(e.push(t[s]);e.length>=3&&v(e[e.length-3],e[e.length-2],e[e.length-1])==2;)e.splice(e.length-2,1);let i=[];i.push(t[t.length-1]),i.push(t[t.length-2]);for(let s=t.length-3;s>=0;s--)for(e.push(t[s]);e.length>=3&&v(e[e.length-3],e[e.length-2],e[e.length-1])==2;)e.splice(e.length-2,1);return i.pop(),i.shift(),e.concat(i)}function W(n,t){return{firstline:n.slice(0,t+1),secondline:n.slice(t,n.length+1)}}function j(n,t,e){let i=n.slice(),r=i.shift(),s=i.pop();if(i.length===0)e.push(n);else{i.sort((a,c)=>a.getDistance2Line_(r,s)-c.getDistance2Line_(r,s));let l=i[i.length-1],o=n.indexOf(l);if(l.getDistance2Line_(r,s)<t)e.push([r,s]);else{let a=W(n,o);j(a.firstline,t,e),j(a.secondline,t,e)}}}function at(n,t){let e=[];j(n,t,e);let i=[];for(let r of e)i.push(r[0]);return i.push(e[e.length-1][1]),i}var G,Y;const N=class{constructor(t,e){q(this,G);this.row=t,this.column=e,this.gridset=C(this,G,Y).call(this)}get1DArray(){let t=this.gridset,e=[];for(let i=0;i<this.row;i++)for(let r=0;r<this.column;r++)e.push(t[i][r]);return e}padding_(t,e){this.paddingsize=t;let i=this.row+2*t,r=this.column+2*t;for(let s of this.gridset)for(let l=0;l<t;l++)s.push(e),s.unshift(e);for(let s=0;s<t;s++){let l=[];l.length=r,l.fill(e),this.gridset.push(l),this.gridset.unshift(l)}this.row=i,this.column=r}depadding_(){let t=this.row-2*this.paddingsize,e=this.column-2*this.paddingsize;for(let i of this.gridset)for(let r=0;r<this.paddingsize;r++)i.pop(),i.shift();for(let i=0;i<this.paddingsize;i++)this.gridset.pop(),this.gridset.shift();this.row=t,this.column=e}default_convolve(){let t=this.gridset,e=this.row,i=this.column,r=this.paddingsize,s=[];for(let l=r;l<e-r;l++){let o=[];for(let a=r;a<i-r;a++){let c=[[t[l-1][a-1],t[l-1][a],t[l-1][a+1]],[t[l][a-1],t[l][a],t[l][a+1]],[t[l+1][a-1],t[l+1][a],t[l+1][a+1]]];o.push(tt(c))}s.push(o)}return s}get_Slope(){let t=this.gridset,e=this.row,i=this.column,r=this.paddingsize,s=[];for(let l=r;l<e-r;l++){let o=[];for(let a=r;a<i-r;a++){let c=[[t[l-1][a-1],t[l-1][a],t[l-1][a+1]],[t[l][a-1],t[l][a],t[l][a+1]],[t[l+1][a-1],t[l+1][a],t[l+1][a+1]]];o.push(et(c))}s.push(o)}return s}get_Aspect(){let t=this.gridset,e=this.row,i=this.column,r=this.paddingsize,s=[];for(let l=r;l<e-r;l++){let o=[];for(let a=r;a<i-r;a++){let c=[[t[l-1][a-1],t[l-1][a],t[l-1][a+1]],[t[l][a-1],t[l][a],t[l][a+1]],[t[l+1][a-1],t[l+1][a],t[l+1][a+1]]];o.push(it(c))}s.push(o)}return s}get_SampleLine(t,e,i,r){let s=i-t,l=r-e,o=[];if(Math.abs(s)<Math.abs(l)){let a=Math.abs(l),c=s/a,d=l/a;for(let _=0;_<a;_++){let x=Math.round(t+_*c),h=e+_*d;o.push([x,h])}}else{let a=Math.abs(s),c=l/a,d=s/a;for(let _=0;_<a;_++){let x=Math.round(e+_*c),h=t+_*d;o.push([h,x])}}return o}get_CellValue(t,e,i){return i==null&&(i=1),this.gridset[t][e]*i}get_CellValueList(t,e){let i=[];for(let r of t){let s=this.get_CellValue(r[0],r[1],e);i.push(s)}return i}static fromMatrix(t){let e=t[0],i=new N(t.length,e.length);return i.gridset=t,i}static getramp(t){let e=[],i=1/t;for(let r=0;r<5;r++){let s=[];for(let l=0;l<t;l++)s.push(i*l);e.push(s)}return e}static get_aspect_ramp(t){let e=[],i=360/t;for(let r=0;r<5;r++){let s=[];for(let l=0;l<t;l++)s.push(i*l);e.push(s)}return e}static get_dispersed_ramp(t){let e=[],i=1;for(let r=0;r<5;r++){let s=[];for(let l=0;l<t;l++)s.push(i*l);e.push(s)}return e}};let R=N;G=new WeakSet,Y=function(){let t=[];for(let e=0;e<this.row;e++){let i=[];i.length=this.column,i.fill(0),t.push(i)}return t};var P,V,z,F;class dt{constructor(t){q(this,P);q(this,z);this.data=t,this.ori=t.slice(),this.data=this.data.sort((e,i)=>e-i),this.n=this.data.length,this.max=this.data[this.data.length-1],this.min=this.data[0],this.mean=C(this,P,V).call(this),this.q1i=Math.round((this.n+1)/4),this.q3i=Math.round(3*(this.n+1)/4),this.q1=this.data[this.q1i],this.q3=this.data[this.q3i],this.Standard_Deviation=C(this,z,F).call(this)}create_box_whisker_plot(t,e,i,r,s,l){let o=Math.abs(i-t),a=Math.abs(r-e)-40,c=20,d=(t+i)/2,_=Math.abs(this.max-this.min),x=a/_,h=o/l;s===0&&(s=10);let u=a/s,p=Math.round(_/s),f=[],g=[];for(let w=1;w<s;w++){let y=[t,c+r+u*w,t-h,c+r+u*w],S=[Math.round(this.min+p*w),t-5*h,c+r+u*w];f.push(y),g.push(S)}let m=[d-2*h,(this.max-this.min)*x+r+c,d+2*h,(this.max-this.min)*x+r+c],M=[d-2*h,(this.min-this.min)*x+r+c,d+2*h,(this.min-this.min)*x+r+c],B=[];B.push([d,(this.max-this.min)*x+r+c,d,(this.min-this.min)*x+r+c]),B.push(m),B.push(M),g.push([this.max,d+2*h,(this.max-this.min)*x+r+c]),g.push([this.min,d+2*h,(this.min-this.min)*x+r+c]);let D=[d-4*h,(this.q1-this.min)*x+r+c,d+4*h,(this.q3-this.min)*x+r+c];return g.push([this.q1,d+4*h,(this.q1-this.min)*x+r+c]),g.push([this.q3,d+4*h,(this.q3-this.min)*x+r+c]),{MBR:[t,e,i,r],YAXI:f,BOX:D,WHISKER:B,YANO:g}}create_step_plot(t,e,i,r,s,l){let o=20,a=Math.abs(i-t)-2*o,c=Math.abs(r-e)-2*o,d=this.max-this.min,_=this.n,x=c/d,h=Math.round(_/l),u=a/l,p=[];for(let f=0;f<l;f++){let g=o+u*f+t,m=h*f,M=r+o+this.ori[m]*x;p.push([g,M])}return p}create_coordinate_box(t,e,i,r,s,l){let o=20,a=Math.abs(i-t)-2*o,c=Math.abs(r-e)-2*o,d=this.max-this.min,_=this.n,x=Math.round(d/s),h=Math.round(_/l),u=a/l,p=c/s,f=[],g=[];for(let w=1;w<s;w++){let y=[t,o+r+p*w,t-5,o+r+p*w],S=[Math.round(this.min+x*w),t-50,o+r+p*w];f.push(y),g.push(S)}let m=[],M=[],B=0,D=[0,o+t,r-25];M.push(D);for(let w=0;w<l;w++){if(B===5){let y=[o+t+u*w,r,o+t+u*w,r-10];m.push(y)}else if(B===10){let y=[o+t+u*w,r,o+t+u*w,r-15],S=[Math.round(0+h*w),o+t+u*w,r-25];m.push(y),M.push(S),B=0}else{let y=[o+t+u*w,r,o+t+u*w,r-5];m.push(y)}B=1+B}return{MBR:[t,e,i,r],y_scale:f,y_mark:g,x_scale:m,x_mark:M}}Z_Score_Normalization(t){return(t-this.mean)/this.Standard_Deviation}Linear_Normalization(t){return(t-this.min)/(this.max-this.min)}Linear_Normalization_main(t){let e=(t-this.q1)/(this.q3-this.q1);return e>1?1:e<0?0:e}}P=new WeakSet,V=function(){let t=this.data,e=0;for(let i=0;i<t.length;i++)e=t[i]+e;return e/t.length},z=new WeakSet,F=function(){let t=this.data,e=this.mean,i=0;for(let r=0;r<t.length;r++)i=Math.pow(t[r]-e,2)+i;return Math.sqrt(i/this.n)};class b{constructor(t,e){this.ctx=t,this.color=e}draw_point(t,e){this.ctx.fillStyle=this.color,this.ctx.fillRect(t,e,10,10)}draw_pointset(t){for(let e of t)this.draw_point(e.x,e.y)}draw_line(t,e){this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(e.x,e.y),this.ctx.strokeStyle=this.color,this.ctx.lineWidth=3,this.ctx.closePath(),this.ctx.stroke()}draw_polygon(t){this.ctx.strokeStyle=this.color,this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++)this.ctx.lineTo(t[e].x,t[e].y);this.ctx.closePath(),this.ctx.stroke()}draw_complexline(t){this.ctx.strokeStyle=this.color,this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++)this.ctx.lineTo(t[e].x,t[e].y);this.ctx.stroke()}draw_rect(t){let e=t.slice();this.ctx.strokeStyle=this.color,this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.moveTo(e[0],e[1]),this.ctx.lineTo(e[2],e[1]),this.ctx.lineTo(e[2],e[3]),this.ctx.lineTo(e[0],e[3]),this.ctx.closePath(),this.ctx.stroke()}draw_triangle(t){this.ctx.strokeStyle=this.color,this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.moveTo(t[0].x,t[0].y),this.ctx.lineTo(t[1].x,t[1].y),this.ctx.lineTo(t[2].x,t[2].y),this.ctx.closePath(),this.ctx.stroke()}draw_circle(t,e,i){this.ctx.beginPath(),this.ctx.lineWidth=2,this.ctx.strokeStyle=this.color,this.ctx.arc(t,e,i,0,Math.PI*2,!1),this.ctx.stroke()}draw_line_arr(t){let e=t[0],i=t[1],r=t[2],s=t[3];this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.moveTo(e,i),this.ctx.lineTo(r,s),this.ctx.strokeStyle=this.color,this.ctx.closePath(),this.ctx.stroke()}draw_GridCell(t,e,i,r,s){this.ctx.fillStyle=s,this.ctx.fillRect(t,e,i,r)}draw_text(t,e,i){this.ctx.font="oblique 20px Arial",this.ctx.fillText(t,e,i)}}class xt{constructor(t,e,i){this.ctx=t,this.color=e,this.pointset=i}draw(){new b(this.ctx,this.color).draw_pointset(this.pointset.getPointSet())}draw_convex_hull(){new b(this.ctx,this.color).draw_polygon(this.pointset.getConvexHull())}draw_extent(){new b(this.ctx,"#00ffff5a").draw_rect(this.pointset.extent)}}class ut{constructor(t,e,i){this.ctx=t,this.color=e,this.line=new ht(i)}draw(){new b(this.ctx,"rgba(255, 157, 0, 0.846)").draw_complexline(this.line.getLine())}draw_DPsmmoth(t=290){new b(this.ctx,"rgb(0, 136, 255)").draw_complexline(this.line.getSubSetByDP(t))}draw_extent(){new b(this.ctx,"#00ffff5a").draw_rect(this.line.extent)}}class _t{constructor(t,e){this.ctx=t,this.stastic=e}draw_box_whisker_plot(t,e,i,r,s,l,o,a,c){let d=this.stastic.create_box_whisker_plot(t,e,i,r,s,l),_=d.MBR,x=d.YAXI,h=d.WHISKER,u=d.BOX,p=d.YANO,f=new b(this.ctx,"gray"),g=new b(this.ctx,"blue"),m=new b(this.ctx,"green");this.ctx.save(),this.ctx.scale(1,-1),this.ctx.translate(0,-o),f.draw_rect(_);for(let B of x)g.draw_line_arr(B);for(let B of h)g.draw_line_arr(B);m.draw_rect(u),this.ctx.restore(),this.ctx.font="oblique bold 20px Arial";for(let B of p)this.ctx.fillText(B[0],B[1],o-B[2]);(c==""||c==null)&&(c="box whisker plot");let M=(t+i)/2;this.ctx.fillText(c,M-60,o-e-5)}draw_coordinate_box(t,e,i,r,s,l,o,a,c){let d=this.stastic.create_coordinate_box(t,e,i,r,s,l),_=d.MBR,x=(t+i)/2,h=d.y_scale,u=d.y_mark,p=d.x_scale,f=d.x_mark,g=new b(this.ctx,"gray"),m=new b(this.ctx,"blue");this.ctx.save(),this.ctx.scale(1,-1),this.ctx.translate(0,-o),g.draw_rect(_);for(let M of h)m.draw_line_arr(M);for(let M of p)m.draw_line_arr(M);this.ctx.restore(),this.ctx.font="oblique bold 20px Arial";for(let M of u)this.ctx.fillText(M[0],M[1],o-M[2]);for(let M of f)this.ctx.fillText(M[0],M[1],o-M[2]);(c==""||c==null)&&(c="blank box"),this.ctx.fillText(c,x,o-e-5)}draw_step_plot(t,e,i,r,s,l,o,a,c,d){let _=this.stastic.create_step_plot(t,e,i,r,s,l);this.ctx.save(),this.ctx.scale(1,-1),this.ctx.translate(0,-o);let x=new b(this.ctx,c);for(let h=0;h<_.length-1;h++){let u=_[h].concat(_[h+1]);x.draw_line_arr(u)}this.ctx.restore(),this.draw_coordinate_box(t,e,i,r,s,l,o,a,d)}draw_step_plot_single(t,e,i,r,s,l,o,a,c){let d=this.stastic.create_step_plot(t,e,i,r,s,l);this.ctx.save(),this.ctx.scale(1,-1),this.ctx.translate(0,-o);let _=new b(this.ctx,c);for(let x=0;x<d.length-1;x++){let h=d[x].concat(d[x+1]);_.draw_line_arr(h)}this.ctx.restore()}}class gt{constructor(t,e,i,r,s,l){this.ctx=t,this.grid=e,this.MBR=[i,r,s,l],this.xn=this.grid.column,this.yn=this.grid.row,this.width=Math.abs(this.MBR[0]-this.MBR[2]),this.height=Math.abs(this.MBR[1]-this.MBR[3]),this.dx=this.width/this.xn,this.dy=this.height/this.yn}draw(t,e,i,r,s){let l=new b(this.ctx,"#00ffff5a"),o=this.grid.column,a=this.grid.row,c=Math.abs(this.MBR[0]-this.MBR[2]),d=Math.abs(this.MBR[1]-this.MBR[3]),_=Math.round(c/o),x=Math.round(d/a);this.ctx.save(),this.ctx.scale(1,-1),this.ctx.translate(0,-e),l.draw_rect(this.MBR);for(let h=0;h<this.grid.row;h++)for(let u=0;u<this.grid.column;u++)l.draw_GridCell(this.MBR[0]+u*_,this.MBR[1]-h*x-x,_,x,t.Colorband_1(this.grid.gridset[h][u]));if(r){let h=R.getramp(25),u=[this.MBR[2]-100,this.MBR[1]+20,this.MBR[2],this.MBR[1]],p=100/h[0].length,f=20/h.length;for(let g=0;g<h.length;g++)for(let m=0;m<h[0].length;m++)l.draw_GridCell(u[0]+m*p,u[1]-g*f-f,p,f,t.Colorband_1_p(h[g][m]))}this.ctx.restore(),this.ctx.font="oblique bold 20px Arial",this.ctx.fillText(s,this.MBR[0],e-(this.MBR[1]+10))}draw_main(t,e,i,r,s){let l=new b(this.ctx,"#00ffff5a"),o=this.grid.column,a=this.grid.row,c=Math.abs(this.MBR[0]-this.MBR[2]),d=Math.abs(this.MBR[1]-this.MBR[3]),_=Math.round(c/o),x=Math.round(d/a);this.ctx.save(),this.ctx.scale(1,-1),this.ctx.translate(0,-e),l.draw_rect(this.MBR);for(let h=0;h<this.grid.row;h++)for(let u=0;u<this.grid.column;u++)l.draw_GridCell(this.MBR[0]+u*_,this.MBR[1]-h*x-x,_,x,t.abGray_main(this.grid.gridset[h][u]));if(r){let h=R.getramp(25),u=[this.MBR[2]-100,this.MBR[1]+20,this.MBR[2],this.MBR[1]],p=100/h[0].length,f=20/h.length;for(let g=0;g<h.length;g++)for(let m=0;m<h[0].length;m++)l.draw_GridCell(u[0]+m*p,u[1]-g*f-f,p,f,t.abGray_main_p(h[g][m]))}this.ctx.restore(),this.ctx.font="oblique bold 20px Arial",this.ctx.fillText(s,this.MBR[0],e-(this.MBR[1]+10))}draw_aspect(t,e,i,r,s){let l=new b(this.ctx,"#00ffff5a"),o=this.grid.column,a=this.grid.row,c=Math.abs(this.MBR[0]-this.MBR[2]),d=Math.abs(this.MBR[1]-this.MBR[3]),_=Math.round(c/o),x=Math.round(d/a);this.ctx.save(),this.ctx.scale(1,-1),this.ctx.translate(0,-e),l.draw_rect(this.MBR);for(let h=0;h<this.grid.row;h++)for(let u=0;u<this.grid.column;u++)l.draw_GridCell(this.MBR[0]+u*_,this.MBR[1]-h*x-x,_,x,t.Colorband_2(this.grid.gridset[h][u]));if(r){let h=R.get_aspect_ramp(8),u=[this.MBR[2]-100,this.MBR[1]+20,this.MBR[2],this.MBR[1]],p=100/h[0].length,f=20/h.length;for(let g=0;g<h.length;g++)for(let m=0;m<h[0].length;m++)l.draw_GridCell(u[0]+m*p,u[1]-g*f-f,p,f,t.Colorband_2(h[g][m]))}this.ctx.restore(),this.ctx.font="oblique bold 20px Arial",(s==""||s==null)&&(s="aspect render model"),this.ctx.fillText(s,this.MBR[0],e-(this.MBR[1]+10))}draw_selected_cell(t,e,i,r){let s=new b(this.ctx,"gray");this.ctx.save(),this.ctx.scale(1,-1),this.ctx.translate(0,-r),s.draw_GridCell(this.MBR[0]+t*this.dx,this.MBR[1]-e*this.dy-this.dy,this.dx,this.dy,i),this.ctx.restore()}draw_cell_set(t,e,i){for(let r of t)this.draw_selected_cell(r[0],r[1],e,i)}draw_custom(t,e,i,r,s,l,o,a){let c=new b(this.ctx,"#00ffff5a");this.ctx.save(),this.ctx.scale(1,-1),this.ctx.translate(0,-t);let d=this.dx,_=this.dy;if(i)for(let x=0;x<this.grid.row;x++)for(let h=0;h<this.grid.column;h++)c.draw_GridCell(this.MBR[0]+h*d,this.MBR[1]-x*_-_,d,_,l(s.Linear_Normalization_main(this.grid.gridset[x][h]),r,a));for(let x=0;x<this.grid.row;x++)for(let h=0;h<this.grid.column;h++)c.draw_GridCell(this.MBR[0]+h*d,this.MBR[1]-x*_-_,d,_,l(s.Linear_Normalization(this.grid.gridset[x][h]),r,a));if(e){let x=R.getramp(25),h=[this.MBR[2]-100,this.MBR[1]+20,this.MBR[2],this.MBR[1]],u=100/x[0].length,p=20/x.length;for(let f=0;f<x.length;f++)for(let g=0;g<x[0].length;g++)c.draw_GridCell(h[0]+g*u,h[1]-f*p-p,u,p,l(x[f][g],r,a))}c.draw_rect(this.MBR),this.ctx.restore(),o!==void 0&&(this.ctx.font="oblique bold 20px Arial",this.ctx.fillText(o,this.MBR[0],t-(this.MBR[1]+10)))}draw_dispersed_custom(t,e,i,r,s,l){let o=new b(this.ctx,"#00ffff5a");this.ctx.save(),this.ctx.scale(1,-1),this.ctx.translate(0,-t);let a=this.dx,c=this.dy;for(let d=0;d<this.grid.row;d++)for(let _=0;_<this.grid.column;_++)o.draw_GridCell(this.MBR[0]+_*a,this.MBR[1]-d*c-c,a,c,i(this.grid.gridset[d][_],l));if(e){let d=R.get_dispersed_ramp(s),_=[this.MBR[2]-100,this.MBR[1]+20,this.MBR[2],this.MBR[1]],x=100/d[0].length,h=20/d.length;for(let u=0;u<d.length;u++)for(let p=0;p<d[0].length;p++)o.draw_GridCell(_[0]+p*x,_[1]-u*h-h,x,h,i(d[u][p],l))}o.draw_rect(this.MBR),this.ctx.restore(),r!==void 0&&(this.ctx.font="oblique bold 20px Arial",this.ctx.fillText(r,this.MBR[0],t-(this.MBR[1]+10)))}}class ft{constructor(t){this.stastic=t}rgb_renderer(t,e,i){return"rgb("+t+","+e+","+i+")"}rgba_renderer(t,e,i,r){return"rgba("+t+","+e+","+i+","+r+")"}Z_Score_Normalization(t){return(t-this.stastic.mean)/this.stastic.Standard_Deviation}Linear_Normalization(t){return(t-this.stastic.min)/(this.stastic.max-this.stastic.min)}Linear_Normalization_main(t){let e=(t-this.stastic.q1)/(this.stastic.q3-this.stastic.q1);return e>1?1:e<0?0:e}Gray(t){let i=255*this.Linear_Normalization(t),r=i,s=i;return"rgb("+i+","+r+","+s+")"}abGray(t){let i=255*(1-this.Linear_Normalization(t)),r=i,s=i;return"rgb("+i+","+r+","+s+")"}Red(t){let i=255*this.Linear_Normalization(t),r=0,s=0;return"rgb("+i+","+r+","+s+")"}Green(t){let e=this.Linear_Normalization(t),i=0,r=255*e,s=0;return"rgb("+i+","+r+","+s+")"}Blue(t){let e=this.Linear_Normalization(t),i=0,r=0,s=255*e;return"rgb("+i+","+r+","+s+")"}Colorband_1(t){let e=this.Linear_Normalization(t);return e<.333?this.rgb_renderer(0,100*e,255*e):e<.444?this.rgb_renderer(155*e,155*e,55*e):e<.555?this.rgb_renderer(55*e,155*e,55*e):e<.777?this.rgb_renderer(255*e,255*e,155*e):this.rgb_renderer(255*e,255*e,255*e)}Colorband_1_p(t){let e=t;return e<.333?this.rgb_renderer(0,100*e,255*e):e<.444?this.rgb_renderer(155*e,155*e,55*e):e<.555?this.rgb_renderer(55*e,155*e,55*e):e<.777?this.rgb_renderer(255*e,255*e,155*e):this.rgb_renderer(255*e,255*e,255*e)}Colorband_2(t){return t<22.5?this.rgb_renderer(255,0,0):t<67.5?this.rgb_renderer(255,165,0):t<112.5?this.rgb_renderer(255,255,0):t<157.5?this.rgb_renderer(0,255,0):t<202.5?this.rgb_renderer(0,255,255):t<247.5?this.rgb_renderer(135,206,250):t<292.5?this.rgb_renderer(0,0,255):t<337.5?this.rgb_renderer(139,0,255):this.rgb_renderer(255,0,0)}Gray_main(t){let i=255*this.Linear_Normalization_main(t),r=i,s=i;return"rgb("+i+","+r+","+s+")"}Gray_main_p(t){let i=255*t,r=i,s=i;return"rgb("+i+","+r+","+s+")"}abGray_main(t){let i=255*(1-this.Linear_Normalization_main(t)),r=i,s=i;return"rgb("+i+","+r+","+s+")"}abGray_main_p(t){let i=255*(1-t),r=i,s=i;return"rgb("+i+","+r+","+s+")"}Gray_Z_score_Nor(t){let i=255*this.Z_Score_Normalization(t),r=i,s=i;return"rgb("+i+","+r+","+s+")"}}export{ft as C,gt as G,ut as L,T as P,dt as S,O as a,xt as b,_t as c,R as g,ct as k};
